<!DOCTYPE html>
<html lang="ja">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>アンケートOCRアプリ</title>
    </head>
    <body>
        <h1>アンケートOCRアプリ</h1>

        <div id="auth-container">
            <p id="user-info">ログインしていません</p>
            <button id="login-button">Googleでログイン</button>
            <button id="logout-button" style="display: none">ログアウト</button>
        </div>
        <hr />

        <div id="main-content" style="display: none">
            <h3>フェーズ1：アンケートテンプレート作成</h3>
            <p>
                まず、新しい種類のアンケートを処理するために、見本となるファイルを1枚アップロードしてテンプレートを作成します。
            </p>
            <form id="template-form">
                <div>
                    <label for="template-name-input">テンプレート名:</label>
                    <input
                        type="text"
                        id="template-name-input"
                        required
                        placeholder="例: 2025年度健康調査"
                    />
                </div>
                <div>
                    <label for="template-file-input"
                        >見本ファイル (画像 or PDF 1枚):</label
                    >
                    <input
                        type="file"
                        id="template-file-input"
                        accept="image/*,application/pdf"
                        required
                    />
                </div>
                <button type="submit">テンプレート作成</button>
            </form>
            <p id="template-status-message"></p>
            <hr />

            <h3>フェーズ2：データ抽出</h3>
            <p>
                作成済みのテンプレートを選択し、回答済みのアンケートファイル（複数選択可）をアップロードしてください。
            </p>
            <form id="upload-form">
                <div>
                    <label for="template-select">使用するテンプレート:</label>
                    <select id="template-select" required>
                        <option value="">テンプレートを選択してください</option>
                    </select>
                </div>
                <div>
                    <label for="sheet-id-input"
                        >書き込み先のGoogleスプレッドシートID:</label
                    >
                    <input
                        type="text"
                        id="sheet-id-input"
                        size="50"
                        required
                        placeholder="URLまたはIDを貼り付け"
                    />
                </div>
                <div>
                    <label for="file-input"
                        >アンケートファイル (複数選択可):</label
                    >
                    <input
                        type="file"
                        id="file-input"
                        accept="image/*,application/pdf"
                        multiple
                        required
                    />
                </div>
                <button type="submit">抽出開始</button>
            </form>
        </div>

        <p id="status-message"></p>

        <!-- <script src="https://www.gstatic.com/firebasejs/12.2.1/firebase-app-compat.js"></script>
        <script src="https://www.gstatic.com/firebasejs/12.2.1/firebase-firestore-compat.js"></script>
        <script src="https://www.gstatic.com/firebasejs/12.2.1/firebase-auth-compat.js"></script> -->
        <script src="config.js"></script>
        <script type="module" src="script.js"></script>
    </body>
</html>
